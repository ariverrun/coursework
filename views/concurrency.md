# Многозадачность

В системе существует несколько точек конкурентного взаимодействия.

## Регистрация пользователя

В системе не может существовать более одного пользователя с одним номером телефона и емейлом. При этом пользовательские данные распределены географически. Потенциально возможна ситуация, когда пользователь региструруется с емейлом X на узле A, но этот емейл уже зарегистрирован на узле B.

Для решения этой проблемы мы используем отдельный сервис проверки уникальности email и номера телефона. Данные, которые он использует также будут распределены по нескольким узлам, но теперь каждый регион имеет полный комплект данных. Храниться они должны в виде хэшей и доступ к ним должнен быть максимально быстрым.

При регистрации нового пользователя, идентифицирующие его контакты отправляются в сервис-координатор, который вносит их в сервисы идентификаторы.


![Обеспечение уникальности контактов пользователя](https://raw.githubusercontent.com/ariverrun/coursework/main/assets/contact.uniquenes.approach.png "Обеспечение уникальности контактов пользователя")