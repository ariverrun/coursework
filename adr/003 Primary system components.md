# Главные компоненты системы

## Контекст:

Мы создаем MVP, выбрав Space-based подход для его реализации. Необходимо выделить основные компоненты, из которых система на данном этапе будет состоять. 

Space-based системы состоят из двух основных компонентов: processing unit и virtualized middleware. Первый их них соодержит бизнес-логику и хранилища, которыми она оперирует, второй представляет своего рода инфраструктуру, распределяя нагрузку, обеспечивая актуальность данных, масштабирование и взаимодействие между несколькими юнитами. Нам нужно выбрать из каких компонентов будут состоять processing units и virtualized middleware.

## Решение

Virtualized middleware будет состоять из следующих частей:

1. Messaging grid. Этот компонент будет заниматься распределением пользовательской нагрузки между юнитами.

2. Data grid. Этот компонент будет обеспечивать репликацию данных между юнитами.

3. Deployment Manager. Этот компонент будет создавать и отключать юниты по мере необходимости и служить для автоматизации масштабирования.

Processing units будут существовать во множественном числе, но каждый будет состоять из следующих частей:

1. Сервисы, реализующие бизнес-логику.

2. API-gateway, который будет предоставлять доступ к сервисам.

3. In-memory data grid. Этот компонент содержит необходимые для работы юнита данные, причем хранит их в оперативной памяти для быстрого доступа. Не все данные, которые приложение использует будут храниться здесь, только те, доступ к которым должен осуществляться максимально быстро.

4. Локальные хранилища сервисов. Сюда будут сбрасываться данные из in-memory data grid для того, чтобы не быть утерянными при сбое, а также те данные, доступ к которым может быть более медленным.

<!-- ![Изображение](https://raw.githubusercontent.com/ariverrun/coursework/main/arch.concept.png "Схема основных компонентов") -->

## Статус:

принято

## Последствия:

1. Система будет выдерживать высокую нагрузку за счет балансировки.
2. Система будет отличаться высокой производительностью за счет хранения части данных в памяти, а остальных данных близко к сервисами, с фоновой их репликацией.
3. Система будет автоматически масштабироваться.

