# Курсовая работа

1. **Бизнес-цели**
    1. Стимулировать спрос на товары компании.
    2. Формирование позитивного образа бренда который позволит выигрывать конкуренцию при прочих равных.
    3. Увеличение клиентской базы.
2. **Функциональные требования**
    1. Система должна позволять пользователям создавать группы по интересам и вступать в них. При поиске групп учитываются интересы пользователя, а также локация в которой он тренируется/собирается тренироваться.
    2. Система должна иметь функцию общения в чате в рамках вышеупомянутых групп.
    3. Система должна предоставлять возможность удобным образом уведомить участников групп, в которых пользователь состоит, об успехах, которых он добился в том виде спорта, которым они все увлекаются путем отправки формируемого системой сообщения другим участникам при достижении определенных показателей (автоматически или по действию пользователя).
    4. Система должна предоставлять возможность поделиться своими успехами и показателями с друзьями в социальных сетях, соответственно, она должна иметь интеграции с ними.
    5. Система должна обеспечивать возможность изучения показателей своей тренировки, а также сравнения их с данными за прошлый период.
    6. Система должна беспечивать возможность сравнения показателей тренировки с показателями других людей (другие пользоватей приложения, профессиональных спортсменов)
    7. Система должна предоставлять возможность хранения данных о инвентаре.
    8. Система должна иметь функцию напоминания о необходимости обновления инвентаря.
    9. Система должна иметь функцию выдачи подсказок по составлению тренировок с учетом имеющегося инвентаря (для одного пользователя или группы).
    10. Система должна иметь функцию составления плана тренировок и их расписания с учетом имеющегося инвентаря (для одного пользователя или группы).
    11. Система должна начислять баллы за новые достижения пользователя, участие и призовые места в соревнованиях, за занятие еще одним новым для него видом спорта.
    12. Система должна позволять использовать начисленные за достижения баллы в качестве бонусов согласно программе лояльности.
    13. Система должна позволять устраивать промо акции (в том числе локальные, по региону) и посредством уведомлений вовлекать в них потенциально заинтересованных пользователей. 
    14. Система должна иметь функцию уведомления пользователей о новостях интересующих их видов спорта.
    15. Система должна собирать данные с подключаемых сторонних устройств для отслеживания тренировок и использовать их наряду с данными от стандартных фитнес-функций смартфона в качестве показателей тренировок (см. пункт 5)
    16. Система должна иметь функцию поиска интересующих пользователя товаров.
    17. Система должна иметь функцию создания пользователем заказа.
    18. Система должна предоставлять пользователю возможность отслеживания состояния заказа.
    19. Система должна иметь функцию уведомления пользователя об изменении состояния заказа.
    20. Система должна обеспечивать возможность организовать спортивное мероприятие.
    21. Система должна позволять зарегистрироваться в качестве участника на созданное в ней спортивное мероприятие.
    22. Система должна предоставлять пользователю результаты с которыми он выступил на спортивном мероприятии.
    23. Система должна обеспечивать возможность поделиться результатами на спортивном мероприятии с участниками групп, в которых пользователь состоит, а также в социальных сетях.
3. **Анализ стейкхолдеров и их интересов**
    1. Руководители компании и проекта. *Получение прибыли, рост финансовых показателей.*
    2. Сотрудники компании. *Развитие карьеры, повышение заработной платы, получение премий, получение опыта который будет полезен в будущем, облегчение рабочего процесса.*
    3. Владельцы компании. *Получение прибыли, повышение капитализации компании.*
    4. Акционеры компании. *Получение прибыли, повышение капитализации компании.*
    5. Клиенты / покупатели продукции компании. *Возможность удобно и быстро совершать покупку товаров. Получение скидок на товары.*
    6. Клиенты / пользователи спортивных приложений компании. *Возможность измерения максимального количества показателей тренировок. Возможность демонстрировать свои достижениями. Возможность находить людей со схожими спортивными интересами. Помощь с составлением планов тренировок.*
    7. Государственные регуляторы. *Соблюдение законов.*
    8. Спортивное сообщество. *Возможность автоматизировать организационные процессы проведения соревнований.*
    9. Партнеры и дистрибьюторы. *Повышение получаемой от сотрудничества прибыли.*
4. **Разработка концептуальной архитектуры**
    1. Доменные сущности
        1. Пользователь (User)
        2. Товар (Product)
        3. Номенклатура (Nomenclature)
        4. Продажа (Order)
        5. Инвентарь пользователя (Equipment)
        6. Инвентарная единица пользователя (Equipment Item)
        7. Тренировка (Training)
        8. План тренировки (Training Plan)
        9. Рекомендация для тренировки (Training Hint)
        10. Группа пользователей (Group)
        11. Чат (Chat)
        12. Сообщение (Message)
        13. Сенсор (Sensor)
        14. Тип показателя (Athletic Performance Metric Type)
        15. Запись показателя (Athletic Performance Metric)
        16. История показателей (Athletic Performance Metric History)
        17. Соревнование (Tournament)
        18. Участник соревнования (Tournament Participant)
        19. Достижение (Achievement)
        20. Баланс (Balance)
        21. Бонус (Bonus)
        22. Новость (News)
        23. Программа лояльности (Loyalty Program)
    2. Схема
        ![Концептуальная схема](https://raw.githubusercontent.com/ariverrun/coursework/main/assets/arch.concept.png "Концептуальная схема")
5. **Описание рисков реализации (бизнес и технические)**
    1. Бизнес-риски
        1. Конкуренция с другими аналогичными проектами. Есть много причин, почему приложение конкурентов может оказаться привлекательнее: оно может превосходить по функционалу и техническим характеристикам, оно может стать популярным по маркетинговым причинам, например из-за рекламы или более выгодных для клиентов условий программы лояльности.
        2. Утечка персональных данных. Это может стать причиной судебного преследования компании, а также повлечь за собой репутационные проблемы. Также есть вероятность взлома системы с последующим шифрованием данных, при этом они не утекут, но злоумышленники будут требовать деньги за их дешифровку.
        3. Проблемы при интеграции со сторонними системами. Например, может  оказаться что мы не можем интегрировать некоторые датчики, которые предполагается использовать для сбора показателей, в силу того, что они эксклюзивно интегрируются только с приложением того же производителя или его партнеров.
    2. Технические риски
        1. Безопасность приложений. Есть риск появления слабых мест в системе, которыми смогут воспользоваться злоумышленники.
        2. Недостаточная способность системы к масштабированию. Система в целом или отдельные ее части могут слабо поддаваться масштабированию, что повлечет за собой плохую производительность.
        3. Сбои системы или отдельных ее частей из-за чего функционал будет временно недоступен для клиентов.
        4. Продукт может получиться неудобным для пользователя в точки зрения UX и функционала.
6. **План поэтапной разработки и расширения системы, анализ критически важных компонентов**
    1. В первую очередь следует реализовать MVP, который будет представлять собой мобильное приложение, в котором пользователь сможет выбрать виды спорта, которыми он занимается, найти сообщества по ним в своей локации (или создать такие сообщества), общаться в чате с их участниками. Также в приложение будет встроены те функции, которые уже реализованы в других приложениях компании (специализированные приложения для спорта): измерение показателей спортсмена и планы тренировок. (На этом этапе появляются User, Group, Chat, Message, Training, Training Plan & Hints, Athletic Performance Metric, Athletic Performance Metric Type, Athletic Performance Metric History).
    2. Следующим этапом будет добавляться возможность выбирать и приобретать товары, составлять из них свой инвентарь. Таким образом, первыми двумя этапами мы собираем в единое целое весь уже существующий функционал, а также добавляем некоторые новые возможности для пользователей. С этого момента новый функционал в старые приложения больше не добавляется, только исправляются критичные баги, пользователям предлагается использовать новое приложение, которое содержит все, что им нужно. (На этом этапе появляются Equipment, Equipment Item, Order, Product, Nomenclature).
    3. На следующем этапе добавляется система достижений, начисление баллов за них с возможностью использования их при оплате товаров, а также производится интеграция с социальными сетями для предоставления возможности поделиться своими успехами. (На этом этапе появляются Achievement, Balance, Bonus).
    4. После этого добавляются интеграции сторонних датчиков для спортсменов (На этом этапе появляются Sensor, дорабатываются Athletic Performance Metric, Athletic Performance Metric Type, Athletic Performance Metric History).
    5. Следом за тем добавляется система новостей в приложении (Добавляются News).
    6. В последнюю очередь добавляется функционал для проведения соревнований. (Добавляются Tournament, Tournament Participant).
7. **Выделение критических бизнес-сценариев**
    1. Аутентификация пользователя.
    2. Совершение заказа пользователем.
    3. Получение пользователем своих показателей, сравнение их с прошлыми, а также с показателями других пользователей.
    4. Поиск пользователем сообществ по интересам, вступление в них или организация таковых.
    5. Составление плана тренировок и составление подсказок для пользователя с учетом его интересов и имеющегося инвентаря.
8. **Атрибуты качества**
    1. Usability.
    2. Localizability.
    3. Evolvability.
9. **Анализ и список нефункциональных требований**
    1. Система должна позволять пользователю начать тренировку по готовому или заранее составленному плану в 3 клика.
    2. По окончанию тренировки/спортивного события пользователь должен иметь возможность поделиться показателями в профильных группах и социальных сетях в 2 клика.
    3. Время отклика сервисов в различных географических точках должно составлять менее 200 мс в 95% случаев при условии доступности интернета в этой точке и его скорости не менее 25 Mbps.
    4. Система должна быть мультиязычной. Вот минимальный требуемый набор языков: английский, русский, немецкий, испанский, французский, японский, португальский, итальянский, китайский (мандаринский), арабский, корейский. Добавление нового языка в систему должно занимать не более 30 календарных дней без учета перевода и подготовки транскрипций.
    5. Система должна соответствовать законодательству стран, где она будет доступна.
    6. При увеличении пиковой нагрузки в 2 раза система должна иметь возможность масштабироваться за 24 часа.
    7. Данные должны передаваться по сети только в зашифрованном виде.
    8. Пароли пользователей должны храниться только хэшированном виде. Хэширование должно производиться безопасной хэш-функцией, например bcrypt.
    9. Все ключи шифрования, которые использует система должны храниться в аппаратных модулях безопасности и обновляться раз в 90 дней.
    10. Система должна иметь функцию многофакторной аутентификации пользователя.
    11. Все попытки несанкционированного доступа к данным должны логироваться.
    12. Максимальное допустимое время для обнаружения инцидента должно составлять 24 часа.
    13. Максимальное допустимое время для реагирования на инцидент должно составлять 48 часов.
    14. Резервное копирование данных должно осуществляться раз в 7 календарных дней.
    15. Новые виды спорта и тренировок должны добавляться в систему в срок до 60 календарных дней.
    16. Интеграция новых датчиков фитнес-функций должна производиться в срок до 60 календарных дней.
10. **Анализ и описание архитектурных опций и обоснование выбора**
    1. Свойства:
        1. '+' помогает реализовать
        2. '++' очень хорошо помогает реализовать
        3. 'o' нейтрален
        4. '-' вызывает негативные последствия
        5. '--' вызывает значительные негативные последствия
        
||Monolith|Modularized Monolith|Service-oriented|Service-based|Space-based|Event-driven|Microservices|
|---|-|--------|---|---|---|---|---|
|Usability|o|o|o|o|o|o|o|
|Localizability|--|-|o|+|++|o|+|
|Scalability|--|+|++|++|++|++|++|
|Securability|-|+|++|++|++|++|++|
|Availability|--|-|++|++|++|++|++|
|Evolvability|--|+|+|++|++|++|++|
|Integration|o|o|-|o|o|o|o|
|Performance|++|++|+|+|+|+|+|
|Low cost|++|++|--|-|--|--|--|

При подсчете характеристик выяснилось, что наиболее подходящими для проекта архитектурными стилями являются Service-based и Space-based подходы. Первый дешевле в разработке и поддержке, второй лучше с точки зрения локализации и работы сервисов максимально близко к клиентам с географической точки зрения, что для проекта приоритетно, таким образом принято решение использовать Space-based подход.

12. **Описание сценариев использования приложения**

    1. 
    |Название поля|Что содержит|
    |---|---|
    |Вариант использования|Пользователь регистрируется в приложении|
    |Основное действующее лицо|Не имеющий аккаунта пользователь|
    |Участники|Отсутствуют|
    |Предусловие|Пользователь находится на странице регистрации|
    |Результат|Создастся аккаунт пользователя и он будет автоматически залогинен в приложении|
    |Описание|1. Пользователь вводит email-адрес. 2. Система проверяет, что адрес в системе отсутствует. 3. Система создает пользователя. 4. Пользователя переводит на экран для создания пароля. 5. Пользователь вводит пароль. 6. Система привязывает пароль, помечает пользователя как разрегистрированного, логинит его. 7. Пользователь попадает на страницу своего профиля. |
    |Расширение|1. Введенный email уже зарегистрирован в системе. 1.1 Окошко ввода email подсвечивается красной рамкой. 1.2 Пользователю на экран выводится сообщение о том, что данный email уже зарегистирован.|    
    2. 
    |Название поля|Что содержит|
    |---|---|
    |Вариант использования|Пользователь вступает в группу по интересам|
    |Основное действующее лицо|Авторизованный пользователь|
    |Участники|Пользователи-администраторы группы|
    |Предусловие|Пользователь находится на странице поиска групп|
    |Результат|Пользователь вступил в интересующую его группу|
    |Описание|1. Пользователь вводит текст, который должен присутствовать в названии группы и/или выбирает нужные категории 2. Локация пользователя автоматически подставляется в поле "локация", пользователь может ее изменить. 3. Система подбирает группы, соответствующие критериям поиска и выводит их на экран. 4. Пользователь просматривает информацию о группах. 5. Пользователь вступает в группу. 5.1 Если группа открытая, пользователь нажимает кнопку "вступить в сообщество". 5.1 Если группа закрытая, пользователь нажимает кнопку "подать заявку". 5.2 Администраторы группы получают push-уведомления о поданной заявке, также заявка видна им в разделе "заявки" администрируемого сообщества 5.3. Администраторы просматривают профиль пользователя подавшего заявку. 5.4 Администраторы могут написать пользователю в личном чате. 5.5 Один из администраторов нажимает кнопку "принять заявку". 6 Пользователь становится участником группы. 7. Пользователь получает push-уведомление о том, что стал участником такого-то сообщества.|
    |Расширение|1. В системе отсутствуют группы, соответствующие критериям поиска. 1.1 Пользователю высвечивается надпись уведомляющая о том, что сообщества не найдены. 2. Администратор сообщества отклоняет заявку на вступление. 2.1  Пользователь получает push-уведомление о том, что его заявка отклонена|
    3. 
    |Название поля|Что содержит|
    |---|---|
    |Вариант использования|Пользователь выбирает подходящий план тренировки|
    |Основное действующее лицо|Авторизованный пользователь|
    |Участники|Отсутствуют|
    |Предусловие|Пользователь находится на экране тренировок|
    |Результат|Пользователь выбирает подходящий план и может начать тренировку|
    |Описание|1. На экране тренировок предложено выбрать один из поддерживаемых видов спорта. 2. Пользователь кликает на один из вариантов и предлагается список настроек, где можно выбрать свойства которые должна иметь тренировка: длительность, дистанция, количество калорий, которое нужно потратить, веса с которыми планируется работа, точки маршрута и другие свойства, для разных видов спорта они будут разными. 3. Пользователь может выбрать какие предметы из своего инвентаря тренировка должна задействовать. 4. Система подбирает пользователю тренировку.|
    |Расширение|Отсутствует|
    4. 
    |Название поля|Что содержит|
    |---|---|
    |Вариант использования|Пользователь тренируется индивидуально|
    |Основное действующее лицо|Авторизованный пользователь|
    |Участники|Отсутствуют|
    |Предусловие|Пользователь выбрал тренировку|
    |Результат|Пользователь получил все подсказки во время тренировки, получил статистику своих показателей и достижения если таковые были им совершены|
    |Описание|1. Пользователь нажимает "начать тренировку". 2. Начинается обратный отсчет в течение 5 секунд, после чего срабатывает звуковой сигнал старта. 3. Открывается экран на котором есть меняющеся с ходом времени элементы 3.1 Секундомер 3.2 Показатели пульса, скорости, темпа бега, другие показатели с различных интегрированных датчиков 3.3 Подсказки что после чего делать, когда отдыхать. 3.4 Для видов спорта выполняемых по маршруту, показывается карта, движение пользователя по ней, пройденное расстояние. 4. По окончании тренировки подается звуковой сигнал. 5. Если были получены какие-либо показатели, которые превышают ранее достигнутые, пользователю показывается, чего он добился. 6. Если достижение подлежит награждению в рамках программы лояльности, пользователю начисляются бонусы. 7. Пользователю предлагается ознакомиться со статистикой своей тренировки, в том числе в сравнении с предыдущими показателями|
    |Расширение|Отсутствуют|
    5. 
    |Название поля|Что содержит|
    |---|---|
    |Вариант использования|Пользователь тренирует других пользователей|
    |Основное действующее лицо|Авторизованный пользователь|
    |Участники|Другие пользователи группы|
    |Предусловие|Пользователь выступающий в качестве тренера выбрал тренировку, поделился ей в чате, остальные пользователи перешли на этот экран |
    |Результат|Пользователь получил показатели тренировки других пользователей|
    |Описание|1. Пользователь-тренер нажимает "поделиться с группой", выбирает нужную группу и система отправляет ссылку в ее чат. 2. Участики переходят по ней и нажимают "присоединиться". 3. Тренер видит их профили в списке участников тренировки. 4. Тренер нажимает "начать тренировку".5. Начинается обратный отсчет в течение 5 секунд, после чего срабатывает звуковой сигнал старта. 6. У всеж участников открывается экран на котором есть меняющеся с ходом времени элементы 6.1 Секундомер 6.2 Показатели пульса, скорости, темпа бега, другие показатели с различных интегрированных датчиков 6.3 Подсказки что после чего делать, когда отдыхать. 6.4 Для видов спорта выполняемых по маршруту, показывается карта, движение пользователя по ней, пройденное расстояние. 7. Тренер видит список всех участников и может кликнуть на иконку с профилем каждого и посмотреть его показатели. 8. По окончании тренировки подается звуковой сигнал. 9. Пользователи получают статистику своих показателей и достижения, бонусы если таковые полагаются. 10. Тренер видит статистику и достижения участников тренировки.|
    |Расширение|Отсутствуют|
    6. 
    |Название поля|Что содержит|
    |---|---|
    |Вариант использования|Пользователь выбирает товар|
    |Основное действующее лицо|Авторизованный пользователь|
    |Участники|Отсутствуют|
    |Предусловие|Пользователь находится на экране "магазин"|
    |Результат|Пользователь добавил интересующие его товары в корзину|
    |Описание|1. Система выводит на экран категории товаров, сезонные товары, товары по скидке, предлагает выбрать искать ли товары для мужчин или женщин или детей, выводит поисковую строку. 2. Пользователь выбирает интересующий его раздел или вводит текст в поисковую строку. 3. Система переводит его на экран с лентой отфильтрованных товаров, где можно выбрать дополнительные фильтры (бренд, категория, пол, размер, сезон, материалы, цена и др.) и отсортировать в разном порядке (цена, популяртность и др.) 4. Пользователь прокручивает ленту, находит товар его интересующий 4.1 Пользователь может кликнуть на товар и его переведет на экран товара, где он может увидеть описание, фотографии, цену и отзывы 5. Пользователь нажимает на иконку корзины (в ленте или на карточке товара) 6. Товар добавляется в корзину 7. Система резервирует товар|
    |Расширение|1. Товар был доступен пока пользователь его искал, но когда тот попытался добавить его в корзину, товар уже был продан 1.1 Пользователю выводится сообщение с информацией о том, что товар больше не доступен. 2. Товар существовал пока пользователь его искал, но когда тот попытался добавить его в корзину, товар удален из ассортимента. 2.1 Пользователю выводится сообщение с информацией о том, что товар больше не доступен.|
    7. 
    |Название поля|Что содержит|
    |---|---|
    |Вариант использования||
    |Основное действующее лицо||
    |Участники||
    |Предусловие||
    |Результат||
    |Описание||
    |Расширение||